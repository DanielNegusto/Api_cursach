# Программа для работы с поиском вакансий на hh.ru и добавления их в базу данных
## Описание проекта

Проект, который получает информацию о вакансиях с платформы hh.ru в России, сохраняет их в базу данных и позволяет управлять данными из бд

## Установка

1. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/your-repo/project-name.git
    ```

2. Перейдите в директорию проекта:
    ```bash
    cd project-name
    ```

3. Установите необходимые зависимости:
    ```bash
    # для первичной установки
    poetry install
    # для обновления
    poetry update
    ```
## Подключение к базе данных posgresql
Создайте файл ".env" по примеру файла ".env_example" для того что бы программа могла подключиться к вашей базе данных

## О программе
В проекте реализованны классы для поиска по api вакансий, также сохранения в базу данных
В директории "data" лежит файл "companies.json" который хранит 10 компаний для поиска их вакансий его можно дополнять
вручную либо из самой программы.
Изначально программа получает вакансии 10 компаний:
- Яндекс
- Сбербанк
- Mail.ru Group (VK)
- Северсталь
- Альфа-Банк
- Лаборатория Касперского
- OZON
- МТС
- Тинькофф
- X5 Group
## Использование
При запуске программы создаются 2 таблицы "companies" и "vacancies" В которых храниться информация по компаниям и вакансиям

Программа предлагает для пользователя такие параметры
1. Загрузить данные о компаниях и вакансиях в базу данных:
Берёт данные о компаниях из файла и сохраняет вакансии в базу данных.
2. Показать список компаний и количество вакансий у каждой:
Выводит в консоль информацию по существующим компаниям и списку найденых вакансий
3. Показать все вакансии:
Выводит все найденные вакансии
4. Показать среднюю зарплату по вакансиям:
Выводит среднюю зарплату по найденным вакансиям
5. Показать вакансии с зарплатой выше средней:
Выводит список вакансии у которых зарплата выше средней
6. Поиск вакансий по ключевому слову:
Даёт возможность найти вакансию по ключевому слову
7. Очистить базу данных:
Удаляет все данные из таблиц
8. Добавить компанию в базу данных:
Можно добавить компанию по id на hh.ru

## Запуск программы
Основная логика проекта заложена в модуле "main.py" которая связывает функциональности между собой.
для того чтобы запустить программу либо запустите файл main.py из директории проекта, либо через консоль
```bash
poetry run python main.py
```
# Тестирование
Для тестирования используйте библиотеку pytest. В проекте включены тесты для всех основных функций.

# Запуск тестов
Убедитесь, что у вас установлен pytest

Запустите тесты из корневой директории проекта:
```bash
pytest
```
### Проект покрыт тестами с использованием pytest. Для запуска тестов выполните команду:

```bash
pytest --cov
```